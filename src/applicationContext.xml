<?xml version="1.0" encoding="UTF-8"?>
<!-- <!DOCTYPE beans PUBLIC  "-//ACTIVEMQ//DTD//EN" "http://activemq.codehaus.org/dtd/activemq.dtd"> -->
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

  <!-- JMS ConnectionFactory to use -->
  <bean id="jmsFactory" class="org.apache.activemq.ActiveMQConnectionFactory">
    <property name="brokerURL">
      <value>tcp://localhost:61616</value>
    </property>
  </bean>

  <!-- Spring JMS Template -->
  <bean id="jmsTemplate" class="org.springframework.jms.core.JmsTemplate">
    <property name="connectionFactory">
      <!-- lets wrap in a pool to avoid creating a connection per send -->
      <bean class="org.springframework.jms.connection.SingleConnectionFactory">
        <property name="targetConnectionFactory">
          <ref local="jmsFactory"/>
        </property>
      </bean>
    </property>
    <property name="pubSubDomain">
      <value>false</value>
    </property>
  </bean>

  <!-- a sample POJO which uses a Spring JmsTemplate -->
  <bean id="producer" class="nz.co.pukeko.msginf.client.adapter.spring.SpringProducer">
    <property name="template">
      <ref bean="jmsTemplate"></ref>
    </property>

    <property name="queue">
      <value>SUBMIT.QUEUE</value>
    </property>
  </bean>


  <!-- a sample POJO consumer -->
<!--  <bean id="consumer" class="org.codehaus.activemq.spring.SpringConsumer">
    <property name="template">
      <ref bean="myJmsTemplate"></ref>
    </property>

    <property name="destination">
      <bean class="org.codehaus.activemq.message.ActiveMQQueue" autowire="constructor">
        <constructor-arg>
          <value>org.codehaus.activemq.spring.Test</value>
        </constructor-arg>
      </bean>
    </property>
  </bean> -->

</beans>
