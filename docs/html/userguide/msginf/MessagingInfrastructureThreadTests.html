<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Messaging Infrastructure Thread Tests</title>
</head>
<body>
<a href="../index.html">Index</a>
<hr style="width: 100%; height: 2px;"><a href="../index.html"></a>
<h3>Messaging Infrastructure Thread Tests</h3>
This page outlines some thread testing done on each messaging system.
It was intended to see how well the messaging infrastructure copes with
having multiple threads each with multiple messages.<br>
<br>
The tests had the following parameters:<br>
<ul>
  <li>The request-reply echo scenario was used.</li>
  <li>No persistence was used by the messaging systems.<br>
  </li>
  <li>1000 messages were sent in each test with varying number of
threads. </li>
  <li>Only the consumer handler requester was
tested as the future results handler cannot handle multiple threads. </li>
  <li>The times recorded are the number of milliseconds the <span
 style="font-family: monospace;">QueueManager.sendMessage</span> method
took.</li>
</ul>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <th style="vertical-align: top;">No. of Threads/No. of Messages
Per Thread<br>
      </th>
      <th style="vertical-align: top;">ActiveMQ</th>
      <th style="vertical-align: top;">JBossMQ</th>
      <th style="vertical-align: top;">JORAM<br>
      </th>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">1/1000</td>
      <td style="vertical-align: top;">84<br>
      </td>
      <td style="vertical-align: top;">18<br>
      </td>
      <td style="vertical-align: top;">17<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">2/500</td>
      <td style="vertical-align: top;">81<br>
      </td>
      <td style="vertical-align: top;">16<br>
      </td>
      <td style="vertical-align: top;">25<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">4/250</td>
      <td style="vertical-align: top;">81<br>
      </td>
      <td style="vertical-align: top;">29<br>
      </td>
      <td style="vertical-align: top;">25<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">5/200</td>
      <td style="vertical-align: top;">84<br>
      </td>
      <td style="vertical-align: top;">31<br>
      </td>
      <td style="vertical-align: top;">29<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">8/125</td>
      <td style="vertical-align: top;">94<br>
      </td>
      <td style="vertical-align: top;">64<br>
      </td>
      <td style="vertical-align: top;">57<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">10/100</td>
      <td style="vertical-align: top;">95<br>
      </td>
      <td style="vertical-align: top;">78<br>
      </td>
      <td style="vertical-align: top;">64<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">20/50</td>
      <td style="vertical-align: top;">418<br>
      </td>
      <td style="vertical-align: top;">79<br>
      </td>
      <td style="vertical-align: top;">149<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">25/40</td>
      <td style="vertical-align: top;">325<br>
      </td>
      <td style="vertical-align: top;">119<br>
      </td>
      <td style="vertical-align: top;">123<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">40/25</td>
      <td style="vertical-align: top;">432<br>
      </td>
      <td style="vertical-align: top;">124<br>
      </td>
      <td style="vertical-align: top;">153<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">50/20</td>
      <td style="vertical-align: top;">367<br>
      </td>
      <td style="vertical-align: top;">111<br>
      </td>
      <td style="vertical-align: top;">68<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">100/10</td>
      <td style="vertical-align: top;">410<br>
      </td>
      <td style="vertical-align: top;">36<br>
      </td>
      <td style="vertical-align: top;">22<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">125/8</td>
      <td style="vertical-align: top;">397<br>
      </td>
      <td style="vertical-align: top;">22<br>
      </td>
      <td style="vertical-align: top;">35<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">200/5</td>
      <td style="vertical-align: top;">380<br>
      </td>
      <td style="vertical-align: top;">19<br>
      </td>
      <td style="vertical-align: top;">20<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">250/4</td>
      <td style="vertical-align: top;">197<br>
      </td>
      <td style="vertical-align: top;">20<br>
      </td>
      <td style="vertical-align: top;">15<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">500/2</td>
      <td style="vertical-align: top;">199<br>
      </td>
      <td style="vertical-align: top;">15<br>
      </td>
      <td style="vertical-align: top;">23<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">1000/1</td>
      <td style="vertical-align: top;">190<br>
      </td>
      <td style="vertical-align: top;">14<br>
      </td>
      <td style="vertical-align: top;">14<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
The messaging infrastructure coped very well with the multiple threads
for all the messaging systems tested.<br>
<br>
<div style="text-align: center;"><img alt="Thread Performance"
 src="images/thread_performance.jpg"
 style="width: 888px; height: 507px;"><br>
</div>
<hr style="width: 100%; height: 2px;"><a href="../index.html">Index</a><br>
</body>
</html>
